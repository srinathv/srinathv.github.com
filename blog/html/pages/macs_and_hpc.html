





<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Macs and High Performance Computing &mdash; Psuedoneuromancer&#39;s scientific tool chest.</title>
    
    <link rel="stylesheet" href="../_static/modern.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/tinkerer.ico"/>
    
    <link rel="top" title="Psuedoneuromancer&#39;s scientific tool chest." href="../index.html" />
    <link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.html" />
     

    
    <script type="text/javascript">
        $(document).ready(function() {
            var bodywrapper = document.getElementsByClassName("documentwrapper")[0];
            var sidebar = document.getElementsByClassName("sphinxsidebar")[0];

            if (sidebar.offsetHeight > bodywrapper.offsetHeight)
            {
                bodywrapper.style.minHeight = sidebar.offsetHeight + "px";
            }
        });
    </script>

  </head>
  <body>
    
    <div class="header">
        <h1 class="heading">
            <a href="../index.html">
                <span>Psuedoneuromancer&#39;s scientific tool chest.</span>
            </a>
        </h1>
        <h2 class="tagline">Things that help Srinath Vadlamani explore science and mathematics.</h2>
    </div>
    <div class="page_nav">
        <ul>
            
            <li>
                <a href="../index.html">Home</a>
            </li>
            
            <li>
                <a href="git_for_humans.html">Git for humans</a>
            </li>
            
            <li>
                <a href="accelerators_and_more.html">Accelerators and more</a>
            </li>
            
            <li>
                <a href="scientific_computing_tools.html">Scientific computing tools</a>
            </li>
            
            <li>
                <a href="compiler_fun.html">Compiler Fun</a>
            </li>
            
            <li>
                <a href="useful_linux.html">Useful Linux commands</a>
            </li>
            
            <li>
                <a href="#">Macs and High Performance Computing</a>
            </li>
            
            <li>
                <a href="working_with_lcfs.html">Working with LCFs</a>
            </li>
            
            <li>
                <a href="snow_leopard_links.html">Snow Leopard Links</a>
            </li>
            
            <li>
                <a href="mt_lion.html">Mac OS X Mt. Lion tips</a>
            </li>
            
            <li>
                <a href="useful_vim_ideas.html">Vim ideas</a>
            </li>
            
            <li>
                <a href="about_me.html">About me</a>
            </li>
            
            <li class="right">
                
    <div class="rss">
        <a href="../rss.html" title="Subscribe via RSS"><span class="webfont">B</span>
            
        </a>
    </div>
            </li>
        </ul>
    </div>
    <div class="clearer"></div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">

<div class="widget">
    <h1>Recent Posts</h1>
    <ul>
        <li class="recent_post">
            <a href="../2012/06/07/when_using_git__commit_often___the_smaller_the_commit_the_better___because_then_git_revert_will_save_your_day__one_day_.html">When using git, commit often!  The smaller the commit the better.  Because then git-revert will save your day, one day!</a>
        </li>
        <li class="recent_post">
            <a href="../2012/05/23/fortran_2003_8_standards_presented_by_dan_nagle_are_blowing_me_away___pointer_bounds_and_rank_remapping_will_have_to_be_implemented_in_any_new_codes_i_work_on_.html">Fortran 2003/8 standards presented by Dan Nagle are blowing me away!  Pointer bounds and rank remapping will have to be implemented in any new codes I work on.</a>
        </li>
        <li class="recent_post">
            <a href="../2012/04/16/openacc_may_help_with_accelerated_hardware___i_hope_the_emphasis_is_still_on_simulation_results_.html">OpenACC may help with accelerated hardware.  I hope the emphasis is still on simulation results.</a>
        </li>
        <li class="recent_post">
            <a href="../2012/03/23/fortran_2003_is_going_to_make_things_very_interesting___coarrays_will_be_the_game_changer_.html">Fortran 2003 is going to make things very interesting.  Coarrays will be the game changer.</a>
        </li>
        <li class="recent_post">
            <a href="../2012/03/07/happy_that_github_was_quick_to_fix_the_hack_with_ssh_keys_auditing___kudos_.html">Happy that github was quick to fix the hack with ssh-keys auditing.  Kudos.</a>
        </li>
        <li class="recent_post">
            <a href="../2012/03/07/so_xcode_now_installs_in__applications_to_remove_the_need_for_xcode_installer__which_installed_in__developers_____confusing___use_xcode_select_to_help_things_out_.html">So Xcode now installs in /Applications to remove the need for Xcode-Installer, which installed in /Developers ... confusing.  Use xcode-select to help things out.</a>
        </li>
        <li class="recent_post">
            <a href="../2012/02/19/it_takes_some_time_to_organize_thoughts_on_the_interweb___tinkerer_is_very_helpful_.html">It takes some time to organize thoughts on the interweb.  Tinkerer is very helpful.</a>
        </li>
        <li class="recent_post">
            <a href="../2012/02/17/restating__pushing_to_github_is_easy___it_is_getting_a_website_hosted_on_there_to_look_correct___try_adding_a__nojekyll_file_to_the_top_level_if_any_file_or_directory_in_your_website_project_has_underscores_.html">Restating: Pushing to github is easy.  It is getting a website hosted on there to look correct...try adding a .nojekyll file to the top level if any file or directory in your website project has underscores.</a>
        </li>
        <li class="recent_post">
            <a href="../2012/02/14/seems_that_pushing_to_github_is_not_so_easy_.html">Seems that pushing to github is not so easy.</a>
        </li>
        <li class="recent_post">
            <a href="../2012/02/14/this_should_help_with_logging_simple_ideas_that_i_find_useful_for_coding_.html">This should help with logging simple ideas that I find useful for coding.</a>
        </li>
    </ul>
</div>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
    
    
    <div class="section" id="macs-and-high-performance-computing">
<h1><a class="toc-backref" href="#id1">Macs and High Performance Computing</a></h1>
<div class="contents topic" id="what-helps-macs-with-hpc">
<p class="topic-title first">What helps Macs with HPC</p>
<ul class="simple">
<li><a class="reference internal" href="#macs-and-high-performance-computing" id="id1">Macs and High Performance Computing</a><ul>
<li><a class="reference internal" href="#macports-does-help" id="id2">Macports does help</a><ul>
<li><a class="reference internal" href="#lion-and-xcode-4-3" id="id3">Lion and Xcode &gt;=4.3</a></li>
<li><a class="reference internal" href="#mountain-lion" id="id4">Mountain Lion</a><ul>
<li><a class="reference internal" href="#xcode-on-mac-os-x" id="id5">Xcode on Mac OS-X</a></li>
</ul>
</li>
<li><a class="reference internal" href="#making-macports-packages-defaults" id="id6">Making macports packages defaults</a></li>
<li><a class="reference internal" href="#macports-openmpi-and-totalview" id="id7">Macports OpenMPI and Totalview</a></li>
</ul>
</li>
<li><a class="reference internal" href="#mac-ssd-needing-some-help" id="id8">Mac SSD needing some help</a></li>
<li><a class="reference internal" href="#system-profiling-from-command-line" id="id9">System profiling from command line</a></li>
<li><a class="reference internal" href="#gpus-and-the-macs" id="id10">GPUs and the Macs</a></li>
<li><a class="reference internal" href="#remote-connections" id="id11">Remote Connections</a></li>
<li><a class="reference internal" href="#local-memory-release" id="id12">Local Memory release</a><ul>
<li><a class="reference internal" href="#opencl" id="id13">OPENCL</a></li>
<li><a class="reference internal" href="#openacc" id="id14">OPENACC</a></li>
<li><a class="reference internal" href="#portland-group-compilers" id="id15">Portland Group Compilers</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="macports-does-help">
<h2><a class="toc-backref" href="#id2">Macports does help</a></h2>
<p>I like using macports since it really handles package dependencies well.
I have had great sucess with macport&#8217;s built GNU compilers.  I need to
investigate when ports use the LLVM vs. the gcc, but other than that most
things are clear.  This is what I have <a class="reference download internal" href="../_downloads/sv_mp_installed.txt"><span class="xref download docutils literal"><span class="pre">installed</span></span></a>.</p>
<div class="section" id="lion-and-xcode-4-3">
<h3><a class="toc-backref" href="#id3">Lion and Xcode &gt;=4.3</a></h3>
<p>It seems that there are some issues with the new Xcodes being placed only
in the <em>/Applications</em> folder.  After you have installed Xcode and activated the
&#8220;Command Tools&#8221; from the <em>Downloads</em> selection of Xcode&#8217;s preferences, then run</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$xcode</span>-select /Aplications/Xcode
</pre></div>
</div>
<p>I believe that sets where <em>xcodebuild</em> thinks Xcode lives, and now
<a class="reference external" href="https://distfiles.macports.org/MacPorts/MacPorts-2.0.4-10.7-Lion.dmg">Macports for lion</a>
will install.</p>
</div>
<div class="section" id="mountain-lion">
<h3><a class="toc-backref" href="#id4">Mountain Lion</a></h3>
<p>It seems there are lots of issues with Mountain Lion and Macports.  One possible thing to do from the terminal</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$sudo</span> xcodebuild -license
</pre></div>
</div>
<p>may help fix some issues.  Also the above code select may help.</p>
<div class="section" id="xcode-on-mac-os-x">
<h4><a class="toc-backref" href="#id5">Xcode on Mac OS-X</a></h4>
<p>One of the great things about cmake is that it supports multiple GUI development environments,
including Xcode on the Mac, Microsoft Visual Studio on Windows, and KDevelop on Linux (and even on Mac!).</p>
<p>Here&#8217;s how you generate an Xcode project</p>
<div class="highlight-bash"><div class="highlight"><pre>mkdir build_xc <span class="c"># or whatever</span>
<span class="nb">cd </span>build_xc
cmake -G Xcode ../
</pre></div>
</div>
<p>This creates a directory called &lt;projname&gt;.xcodeproj, which you can directly open in xcode, e.g., in the finder or at the command line</p>
<div class="highlight-bash"><div class="highlight"><pre>open &lt;projname&gt;.xcodeproj
</pre></div>
</div>
<p>This knows all about running maketa and everything!</p>
</div>
</div>
<div class="section" id="making-macports-packages-defaults">
<h3><a class="toc-backref" href="#id6">Making macports packages defaults</a></h3>
<p>Most macports built packages have the executables namespaced as
not clash with the system ones.  It is nice to have the option
of making a macports built package default by changing the name.</p>
<div class="highlight-bash"><div class="highlight"><pre>port <span class="k">select</span> --list
Error: port <span class="k">select</span> <span class="o">[</span>--list|--set|--show<span class="o">]</span> &lt;group&gt; <span class="o">[</span>&lt;version&gt;<span class="o">]</span>

port <span class="k">select</span> --list python
Available versions <span class="k">for </span>python:
        none
        python24
        python25
        python25-apple
        python26
        python26-apple
        python27 <span class="o">(</span>active<span class="o">)</span>
        python32
</pre></div>
</div>
</div>
<div class="section" id="macports-openmpi-and-totalview">
<h3><a class="toc-backref" href="#id7">Macports OpenMPI and Totalview</a></h3>
<p>Macports namespaces its OpenMPI commands</p>
<div class="highlight-bash"><div class="highlight"><pre>openmpic++   openmpicxx   openmpif77   openmpirun
openmpicc    openmpiexec  openmpif90
</pre></div>
</div>
<p>so as to not conflict with other mpi implementations.
This can affect your normal use of <em>totalview</em>.  To
use the namespaced mpi commands, you can add a
<em>.tvdrc</em> to your home directory with the following content</p>
<div class="highlight-bash"><div class="highlight"><pre>dset TV::parallel_configs <span class="o">{</span>
   <span class="c">#Macport Open MPI</span>
   name:           Macport Open MPI;
   description:    Macport Open MPI;
   starter:        openmpirun  %s %p %a;
   style:          bootstrap;
   tasks_option:   -np;
   nodes_option:   ;
   env_option:     -x;
   env_style:      assign;
   env:            ;
   comm_world:     <span class="o">(</span>void *<span class="o">)</span> &amp;ompi_mpi_comm_world;
<span class="c">#    pretest:        ompi_info -c;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The Parallel tab will now have a <em>Macports Open MPI</em> option.</p>
</div>
</div>
<div class="section" id="mac-ssd-needing-some-help">
<h2><a class="toc-backref" href="#id8">Mac SSD needing some help</a></h2>
<p>Sometimes it seems that the SSD on my mac has issues.  I noticed that Utilities &gt; Disk repair noted the disc needed
repairs.  To do this I used SuperDuper to clone the drive, then I boot from the clone and ran disk repair.  That did the
trick.  But, I also saw the need may arise to recondition the drive.  This website has useful information on this: <a class="reference external" href="http://macperformanceguide.com/Storage-SSD-Reconditioning.html">http://macperformanceguide.com/Storage-SSD-Reconditioning.html</a></p>
</div>
<div class="section" id="system-profiling-from-command-line">
<h2><a class="toc-backref" href="#id9">System profiling from command line</a></h2>
<p>If you want to know what makes up your machine (from the command line), then <em>system_profile</em> is what to use.:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$system_profile</span> | more
</pre></div>
</div>
<p>should give all the specs of your machine.</p>
</div>
<div class="section" id="gpus-and-the-macs">
<h2><a class="toc-backref" href="#id10">GPUs and the Macs</a></h2>
<p>GP-GPU programming is gaining massive momentum and lots of developers use Macs for the computing power and ease in a
nice, not too heavy case.  Nvidia makes the CUDA toolkit available for free, which will allow for CUDA-C programming on
your mac, as long as it has an NVIDIA GPU graphics card.</p>
</div>
<div class="section" id="remote-connections">
<h2><a class="toc-backref" href="#id11">Remote Connections</a></h2>
<p>I use the native Mac OS X VPN with lots of success.  Sometimes you need to close your lid but want to retain your VPN connection.  A nice built in command is caffeinate:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$caffeinate</span> -u -t 3600
</pre></div>
</div>
<p>Its really nice (man):</p>
<div class="highlight-bash"><div class="highlight"><pre>caffeinate -- prevent the system from sleeping on behalf of a utility
</pre></div>
</div>
<p>This helps.</p>
</div>
<div class="section" id="local-memory-release">
<h2><a class="toc-backref" href="#id12">Local Memory release</a></h2>
<p>To help swipe inactive memory on our mac, try:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$purge</span>
</pre></div>
</div>
<p>where man purge:</p>
<dl class="docutils">
<dt>NAME</dt>
<dd>purge &#8211; force disk cache to be purged (flushed and emptied)</dd>
</dl>
<div class="section" id="opencl">
<h3><a class="toc-backref" href="#id13">OPENCL</a></h3>
<p>Need something here</p>
</div>
<div class="section" id="openacc">
<h3><a class="toc-backref" href="#id14">OPENACC</a></h3>
<p>Need something here</p>
</div>
<div class="section" id="portland-group-compilers">
<h3><a class="toc-backref" href="#id15">Portland Group Compilers</a></h3>
<p>Cool commands</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$pgcpuid</span>
</pre></div>
</div>
<p>and</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$pgaccelinfo</span>
</pre></div>
</div>
</div>
</div>
</div>

    
    <div class="postmeta">
        
        
        
        
    </div>
    

          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Srinath Vadlamani.
        Powered by <a href="http://www.tinkerer.me/">Tinkerer</a> and <a href="http://sphinx.pocoo.org/">Sphinx</a>.

    
    </div>
  </body>
</html>